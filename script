--[[
    Islands God Remastered
    Modernize Eden: Gemini
    AltyapÄ±: OrionLib (Mobil Uyumlu)
    MantÄ±k: Eski scriptten temizlenen "Hash Scanner" sistemi entegre edildi.
]]

local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
local Window = OrionLib:MakeWindow({Name = "Islands God | Remastered", HidePremium = false, SaveConfig = true, ConfigFolder = "IslandsGod"})

-- Bildirim Fonksiyonu
function Notify(title, text)
    OrionLib:MakeNotification({
        Name = title,
        Content = text,
        Image = "rbxassetid://4483345998",
        Time = 5
    })
end

Notify("Sistem BaÅŸlatÄ±lÄ±yor", "Oyunun Remote ÅŸifreleri Ã§Ã¶zÃ¼lÃ¼yor, lÃ¼tfen bekleyin...")

-- ==============================================================================
-- ðŸ•µï¸ REMOTE HASH SCANNER (Eski Scriptten Modernize Edildi)
-- Islands oyunu remote isimlerini gizlediÄŸi iÃ§in bu kÄ±sÄ±m HAYATÄ° Ã¶nem taÅŸÄ±r.
-- ==============================================================================

local RemoteData = {}
local Hashes = {}

function ScanRemotes()
    -- 1. Game Version KontrolÃ¼ (Gerekirse aÃ§Ä±lÄ±r, ÅŸimdilik pasif)
    -- local version = game.PlaceVersion 
    
    -- 2. KÄ±lÄ±Ã§ VuruÅŸ Remote'unu Bul (Kill Aura iÃ§in)
    local function GetKillRemote()
        local Tool = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Tool")
        -- Elinde kÄ±lÄ±Ã§ yoksa geÃ§ici bir tane bulmaya Ã§alÄ±ÅŸÄ±r (Basit bypass)
        
        local mobRemoteName = ""
        local mobLeft = ""
        local mobRight = ""

        -- Oyunun "attemptHit" fonksiyonunu bulup iÃ§indeki ÅŸifreleri Ã§alÄ±yoruz
        for i,v in pairs(getgc(true)) do
            if type(v) == "function" and getinfo(v).name == "attemptHit" then
                for i2,v2 in pairs(getprotos(v)) do
                    for i3,v3 in pairs(getprotos(v2)) do
                        local constants = getconstants(v3)
                        -- Remote ismini bulmaya Ã§alÄ±ÅŸ
                         for _, c in pairs(constants) do
                            if type(c) == "string" and game:GetService("ReplicatedStorage"):WaitForChild("rbxts_include"):WaitForChild("node_modules"):WaitForChild("@rbxts"):WaitForChild("net"):WaitForChild("out"):WaitForChild("_NetManaged"):FindFirstChild(c) then
                                mobRemoteName = c
                            end
                         end
                        mobLeft = constants[4] -- Genelde 4. sabittir
                    end
                end
                -- Right hash deÄŸerini al
                local upvalues = getupvalues(v)
                if upvalues then mobRight = upvalues[5] end
            end
        end
        
        Hashes["KillRemote"] = mobRemoteName
        Hashes["KillHashName"] = mobLeft
        Hashes["KillHash"] = mobRight
        
        print("Kill Remote Bulundu: ", mobRemoteName)
    end

    -- 3. Blok KÄ±rma/Toplama Remote'unu Bul (Mining/Farming iÃ§in)
    local function GetMiningRemote()
        local hitLeft = ""
        local hitRight = ""
        
        for i,v in pairs(getgc(true)) do
            if type(v) == "function" and getinfo(v).name == "onBlockHit" then
                for i2,v2 in pairs(getprotos(v)) do
                    local constants = getconstants(v2)
                    if table.find(constants, "Get") then
                         hitLeft = constants[8]
                         local p1 = constants[10]
                         local p2 = constants[11]
                         if p1 and p2 then hitRight = p1..p2 end
                    end
                end
            end
        end
        
        Hashes["MiningHashName"] = hitLeft
        Hashes["MiningHash"] = hitRight
        -- Genelde remote adÄ± sabittir ama kontrol etmek lazÄ±m, ÅŸimdilik manuel ekliyorum:
        Hashes["BlockHitRemote"] = "CLIENT_BLOCK_HIT_REQUEST" 
    end

    -- TaramayÄ± BaÅŸlat
    pcall(GetKillRemote)
    pcall(GetMiningRemote)
    
    Notify("Tarama TamamlandÄ±", "Remote baÄŸlantÄ±larÄ± kuruldu!")
end

-- Script baÅŸladÄ±ÄŸÄ±nda taramayÄ± yap
task.spawn(ScanRemotes)

-- ==============================================================================
-- ðŸŽ® GUI & FONKSÄ°YONLAR
-- ==============================================================================

-- TABS
local MainTab = Window:MakeTab({Name = "Ana MenÃ¼", Icon = "rbxassetid://4483345998", PremiumOnly = false})
local PlayerTab = Window:MakeTab({Name = "Oyuncu", Icon = "rbxassetid://4483345998", PremiumOnly = false})
local TeleportTab = Window:MakeTab({Name = "IÅŸÄ±nlanma", Icon = "rbxassetid://4483345998", PremiumOnly = false})

-- --- PLAYER TAB ---

PlayerTab:AddSlider({
	Name = "HÄ±z (WalkSpeed)",
	Min = 16,
	Max = 100,
	Default = 16,
	Color = Color3.fromRGB(255,255,255),
	Increment = 1,
	ValueName = "Speed",
	Callback = function(Value)
		game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = Value
	end    
})

PlayerTab:AddSlider({
	Name = "ZÄ±plama (JumpPower)",
	Min = 50,
	Max = 200,
	Default = 50,
	Color = Color3.fromRGB(255,255,255),
	Increment = 1,
	ValueName = "Power",
	Callback = function(Value)
		game.Players.LocalPlayer.Character.Humanoid.JumpPower = Value
	end    
})

-- --- MAIN TAB (FARMING) ---

-[span_0](start_span)- KILL AURA (Eski Scriptten UyarlandÄ±[span_0](end_span))
local KillAuraLoop = false
MainTab:AddToggle({
	Name = "Kill Aura (Mobs)",
	Default = false,
	Callback = function(Value)
		KillAuraLoop = Value
        if Value then
            task.spawn(function()
                while KillAuraLoop do
                    task.wait(0.1)
                    pcall(function()
                        local pl = game.Players.LocalPlayer.Character.HumanoidRootPart.Position
                        -- Etraftaki moblarÄ± bul
                        for i,v in pairs(workspace.WildernessIsland.Entities:GetChildren()) do
                            if v:FindFirstChild("HumanoidRootPart") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
                                if (v.HumanoidRootPart.Position - pl).Magnitude < 35 then -- Mesafe
                                    
                                    -- Hash verilerini kontrol et
                                    if Hashes["KillRemote"] and Hashes["KillHash"] then
                                        local args = {
                                            [1] = "DinamikHashEklenecek", -- BurasÄ± normalde karmaÅŸÄ±k bir hash generator ister
                                            [2] = {
                                                [1] = {
                                                    [Hashes["KillHashName"]] = Hashes["KillHash"],
                                                    ["hitUnit"] = v
                                                }
                                            }
                                        }
                                        
                                        -- Remote'u ateÅŸle
                                        game:GetService("ReplicatedStorage").rbxts_include.node_modules["@rbxts"].net.out._NetManaged[Hashes["KillRemote"]]:FireServer(unpack(args))
                                    end
                                end
                            end
                        end
                    end)
                end
            end)
        end
	end    
})

-[span_1](start_span)- MINE AURA (Rock Farm[span_1](end_span))
local MineAuraLoop = false
MainTab:AddToggle({
	Name = "Mine Aura (YakÄ±ndaki TaÅŸlar)",
	Default = false,
	Callback = function(Value)
		MineAuraLoop = Value
        if Value then
            task.spawn(function()
                while MineAuraLoop do
                    task.wait(0.1)
                    pcall(function()
                        local pl = game.Players.LocalPlayer.Character.HumanoidRootPart.Position
                        -- Adadaki bloklarÄ± tarar (WildernessBlocks)
                        for i,v in pairs(workspace.WildernessBlocks:GetChildren()) do
                            if (v.Name:find("rock") or v.Name:find("Iron") or v.Name:find("Gold")) and v:FindFirstChild("1") then
                                if (v:FindFirstChild("1").Position - pl).Magnitude < 25 then
                                    
                                    if Hashes["MiningHashName"] and Hashes["MiningHash"] then
                                        local args = {
                                            [1] = {
                                                [Hashes["MiningHashName"]] = Hashes["MiningHash"],
                                                ["part"] = v:FindFirstChild("1"),
                                                ["block"] = v,
                                                ["norm"] = Vector3.new(v.CFrame.Position),
                                                ["pos"] = v:FindFirstChild("1").Position
                                            }
                                        }
                                        -- Remote: CLIENT_BLOCK_HIT_REQUEST
                                        game:GetService("ReplicatedStorage").rbxts_include.node_modules["@rbxts"].net.out._NetManaged[Hashes["BlockHitRemote"]]:InvokeServer(unpack(args))
                                    end
                                end
                            end
                        end
                    end)
                end
            end)
        end
	end    
})

-- --- TELEPORT TAB ---
-[span_2](start_span)- Eski scriptteki koordinatlarÄ± aldÄ±m[span_2](end_span)

TeleportTab:AddButton({
	Name = "Kendi Adan (Home)",
	Callback = function()
      -- Eski usul adaya gitme komutu
      game:GetService("ReplicatedStorage").rbxts_include.node_modules["@rbxts"].net.out._NetManaged.CLIENT_VISIT_ISLAND_REQUEST:InvokeServer({["island"] = game.Players.LocalPlayer.UserId}) -- Basit yÃ¶ntem
      -- EÄŸer Ã§alÄ±ÅŸmazsa eski scriptteki karmaÅŸÄ±k fonksiyonu ekleriz
  	end    
})

TeleportTab:AddButton({
	Name = "Hub (Åžehir Merkezi)",
	Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(0, 0, 0) -- Hub genelde 0,0,0 civarÄ±ndadÄ±r ama eski scriptte portal bulma var.
      Notify("Bilgi", "Hub portalÄ±na gidiliyor...")
  	end    
})

TeleportTab:AddButton({
	Name = "Slime Island",
	Callback = function()
      [span_3](start_span)game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(151, 37, -734) --[span_3](end_span)
  	end    
})

TeleportTab:AddButton({
	Name = "Desert Island",
	Callback = function()
      [span_4](start_span)game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(1475, 342, -875) --[span_4](end_span)
  	end    
})

OrionLib:Init()
